.<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arc-Tracks - Life Progress Tracker</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¯</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.js"></script>
    
    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
    </style>
</head>
<body class="bg-gray-900">
    <div id="root">
        <div class="min-h-screen bg-gray-900 flex items-center justify-center">
            <div class="text-white text-xl">Loading Arc-Tracks...</div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Calendar, BookOpen, Code, DollarSign, Sparkles, ChevronLeft, ChevronRight, PieChart, Circle } = lucideReact;

        const ArcTracker = () => {
          const [currentDate, setCurrentDate] = useState(new Date());
          const [selectedDate, setSelectedDate] = useState(new Date());
          const [data, setData] = useState(() => {
            try {
              const saved = localStorage.getItem('arc-tracks-data');
              return saved ? JSON.parse(saved) : {};
            } catch (e) {
              console.warn('Error loading saved data:', e);
              return {};
            }
          });
          const [showStats, setShowStats] = useState(false);

          const arcs = [
            { id: 'spirituality', name: 'Spirituality', icon: Sparkles, color: '#8B5CF6' },
            { id: 'literature', name: 'Literature', icon: BookOpen, color: '#10B981' },
            { id: 'tech', name: 'Tech Learning', icon: Code, color: '#3B82F6' },
            { id: 'money', name: 'Smart Money', icon: DollarSign, color: '#F59E0B' },
            { id: 'go', name: 'Playing Go', icon: Circle, color: '#EF4444' }
          ];

          useEffect(() => {
            try {
              localStorage.setItem('arc-tracks-data', JSON.stringify(data));
            } catch (e) {
              console.warn('Error saving data:', e);
            }
          }, [data]);

          const getDayKey = (date) => {
            return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
          };

          const toggleArc = (date, arcId) => {
            const dayKey = getDayKey(date);
            setData(prev => ({
              ...prev,
              [dayKey]: {
                ...prev[dayKey],
                arcs: {
                  ...prev[dayKey]?.arcs,
                  [arcId]: !prev[dayKey]?.arcs?.[arcId]
                }
              }
            }));
          };

          const updateNotes = (date, arcId, note) => {
            const dayKey = getDayKey(date);
            setData(prev => ({
              ...prev,
              [dayKey]: {
                ...prev[dayKey],
                notes: {
                  ...prev[dayKey]?.notes,
                  [arcId]: note
                }
              }
            }));
          };

          const getDaysInMonth = (date) => {
            return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
          };

          const getFirstDayOfMonth = (date) => {
            return new Date(date.getFullYear(), date.getMonth(), 1).getDay();
          };

          const navigateMonth = (direction) => {
            const newDate = new Date(currentDate);
            newDate.setMonth(currentDate.getMonth() + direction);
            setCurrentDate(newDate);
          };

          const getMonthStats = () => {
            const daysInMonth = getDaysInMonth(currentDate);
            const stats = {};
            
            arcs.forEach(arc => {
              let completed = 0;
              for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
                const dayKey = getDayKey(date);
                if (data[dayKey]?.arcs?.[arc.id]) {
                  completed++;
                }
              }
              stats[arc.id] = {
                completed,
                percentage: Math.round((completed / daysInMonth) * 100)
              };
            });
            
            return stats;
          };

          const renderCalendar = () => {
            const daysInMonth = getDaysInMonth(currentDate);
            const firstDay = getFirstDayOfMonth(currentDate);
            const days = [];

            for (let i = 0; i < firstDay; i++) {
              days.push(<div key={`empty-${i}`} className="h-24"></div>);
            }

            for (let day = 1; day <= daysInMonth; day++) {
              const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
              const dayKey = getDayKey(date);
              const dayData = data[dayKey];
              const isSelected = selectedDate.toDateString() === date.toDateString();
              const isToday = new Date().toDateString() === date.toDateString();

              days.push(
                <div 
                  key={day}
                  className={`h-24 border border-gray-700 p-1 cursor-pointer transition-all hover:bg-gray-800 ${
                    isSelected ? 'ring-2 ring-blue-500 bg-blue-900' : ''
                  } ${isToday ? 'bg-yellow-900' : ''} bg-gray-850`}
                  onClick={() => setSelectedDate(date)}
                >
                  <div className="text-sm font-medium mb-1 text-white">{day}</div>
                  <div className="grid grid-cols-2 gap-1">
                    {arcs.slice(0, 3).map(arc => (
                      <div
                        key={arc.id}
                        className="w-4 h-4 rounded-full border-2 cursor-pointer transition-all hover:scale-110"
                        style={{ 
                          borderColor: arc.color,
                          backgroundColor: dayData?.arcs?.[arc.id] ? arc.color : 'transparent'
                        }}
                        onClick={(e) => {
                          e.stopPropagation();
                          toggleArc(date, arc.id);
                        }}
                      ></div>
                    ))}
                    {arcs.slice(3).map(arc => (
                      <div
                        key={arc.id}
                        className="w-4 h-4 rounded-full border-2 cursor-pointer transition-all hover:scale-110"
                        style={{ 
                          borderColor: arc.color,
                          backgroundColor: dayData?.arcs?.[arc.id] ? arc.color : 'transparent'
                        }}
                        onClick={(e) => {
                          e.stopPropagation();
                          toggleArc(date, arc.id);
                        }}
                      ></div>
                    ))}
                  </div>
                </div>
              );
            }

            return days;
          };

          const selectedDayKey = getDayKey(selectedDate);
          const selectedDayData = data[selectedDayKey];
          const monthStats = getMonthStats();

          return (
            <div className="max-w-6xl mx-auto p-6 bg-gray-900 min-h-screen">
              <div className="mb-8">
                <h1 className="text-3xl font-bold text-white mb-2">Arc-Tracks</h1>
                <p className="text-gray-400">Track your daily progress across the five key areas of growth</p>
              </div>

              <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8">
                {arcs.map(arc => (
                  <div key={arc.id} className="flex items-center space-x-2 p-3 bg-gray-800 rounded-lg border border-gray-700">
                    <div 
                      className="w-4 h-4 rounded-full"
                      style={{ backgroundColor: arc.color }}
                    ></div>
                    <arc.icon size={18} style={{ color: arc.color }} />
                    <span className="font-medium text-white">{arc.name}</span>
                  </div>
                ))}
              </div>

              <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div className="lg:col-span-2">
                  <div className="flex items-center justify-between mb-6">
                    <h2 className="text-2xl font-semibold text-white">
                      {currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}
                    </h2>
                    <div className="flex space-x-2">
                      <button 
                        onClick={() => navigateMonth(-1)}
                        className="p-2 hover:bg-gray-800 rounded-lg transition-colors text-white"
                      >
                        <ChevronLeft size={20} />
                      </button>
                      <button 
                        onClick={() => navigateMonth(1)}
                        className="p-2 hover:bg-gray-800 rounded-lg transition-colors text-white"
                      >
                        <ChevronRight size={20} />
                      </button>
                      <button 
                        onClick={() => setShowStats(!showStats)}
                        className="p-2 hover:bg-gray-800 rounded-lg transition-colors text-white"
                      >
                        <PieChart size={20} />
                      </button>
                    </div>
                  </div>

                  <div className="grid grid-cols-7 gap-1 mb-4">
                    {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (
                      <div key={day} className="h-8 flex items-center justify-center font-semibold text-gray-400">
                        {day}
                      </div>
                    ))}
                    {renderCalendar()}
                  </div>
                </div>

                <div className="space-y-6">
                  <div>
                    <h3 className="text-xl font-semibold mb-4 text-white">
                      {selectedDate.toLocaleDateString('en-US', { 
                        weekday: 'long',
                        month: 'long', 
                        day: 'numeric' 
                      })}
                    </h3>

                    {arcs.map(arc => (
                      <div key={arc.id} className="mb-6 p-4 border border-gray-700 rounded-lg bg-gray-800">
                        <div className="flex items-center justify-between mb-3">
                          <div className="flex items-center space-x-2">
                            <arc.icon size={18} style={{ color: arc.color }} />
                            <span className="font-medium text-white">{arc.name}</span>
                          </div>
                          <button
                            onClick={() => toggleArc(selectedDate, arc.id)}
                            className={`w-6 h-6 rounded-full border-2 transition-all ${
                              selectedDayData?.arcs?.[arc.id] 
                                ? 'border-transparent' 
                                : 'border-gray-500 hover:border-gray-400'
                            }`}
                            style={{ 
                              backgroundColor: selectedDayData?.arcs?.[arc.id] ? arc.color : 'transparent'
                            }}
                          ></button>
                        </div>
                        <textarea
                          placeholder={`What did you do for ${arc.name.toLowerCase()} today?`}
                          className="w-full p-2 border border-gray-600 rounded text-sm resize-none bg-gray-700 text-white placeholder-gray-400"
                          rows="2"
                          value={selectedDayData?.notes?.[arc.id] || ''}
                          onChange={(e) => updateNotes(selectedDate, arc.id, e.target.value)}
                        />
                      </div>
                    ))}
                  </div>

                  {showStats && (
                    <div className="p-4 bg-gray-800 rounded-lg border border-gray-700">
                      <h4 className="font-semibold mb-3 text-white">Monthly Progress</h4>
                      {arcs.map(arc => (
                        <div key={arc.id} className="mb-2">
                          <div className="flex justify-between text-sm mb-1 text-gray-300">
                            <span>{arc.name}</span>
                            <span>{monthStats[arc.id].percentage}%</span>
                          </div>
                          <div className="w-full bg-gray-700 rounded-full h-2">
                            <div 
                              className="h-2 rounded-full transition-all duration-300"
                              style={{ 
                                width: `${monthStats[arc.id].percentage}%`,
                                backgroundColor: arc.color
                              }}
                            ></div>
                          </div>
                        </div>
                      ))}
                    </div>
                  )}
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.render(<ArcTracker />, document.getElementById('root'));
    </script>
</body>
</html>